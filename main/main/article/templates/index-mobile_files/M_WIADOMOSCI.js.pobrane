"use strict";var Brandmetrics;!function(c){var e=function(){function e(e,t){this.Polyfill();var o=new s(e);if(this._process=new i(e,o),!o.GetDoNotTrack()){var r=this;window._brandmetrics.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.Process(e),Array.prototype.push.apply(this,e)},this.Process(t)}}return e.prototype.Process=function(e){for(var t=0,o=e;t<o.length;t++){var r=o[t];this._process.Execute(r)}},e.prototype.Polyfill=function(){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},e}();c.Measure=e;var i=function(){function e(e,t){var i=this;this._surveys={},this.checkIabConsent=function(){window.__cmp?window.__cmp("getVendorConsents",[422],i.testcmp):i.loadQuerySurveys()},this.testcmp=function(e,t){if(t&&e.vendorConsents&&e.purposeConsents){var o=e.vendorConsents[422],r=e.purposeConsents[1];if(o&&r)return void i.loadQuerySurveys()}i._surveyCallback(!1,null)},this.loadQuerySurveys=function(){i._isConfigLoaded||u.InsertScript(""+i._client.GetConfigUrl())},this._surveys={},this._cookies=t,this._client=new c.Client(e),this._isConfigLoaded=void 0===e.LoadConfig||e.LoadConfig,this._surveyCallback=null;var o=void 0!==e.SessionCount&&0<e.SessionCount;!this._isConfigLoaded||o&&!this.IsSubsequent(e.SessionCount)||u.InsertScript(this._client.GetConfigUrl())}return e.prototype.IsSubsequent=function(e){var t="__bmsessionviews",o=1,r=sessionStorage.getItem(t);return null!==r&&(o=parseInt(r,10)+1),sessionStorage.setItem(t,o.toString()),e<o},e.prototype.Execute=function(e){try{this.ExecuteInternal(e)}catch(e){var t="Error in command: "+e;throw this._client.PostDiagnostics(t),new Error(t)}},e.prototype.ExecuteInternal=function(e){switch(e.cmd.toLowerCase()){case"_testmeasurement":var t=e.val;u.InsertScript(""+this._client.GetConfigUrl(t,!0));break;case"_forcesurvey":this._client._forced=!0,this._client._pixel=e.val,u.InsertScript(""+this._client.GetConfigUrl());break;case"_loadsurvey":this._isConfigLoaded||u.InsertScript(""+this._client.GetConfigUrl());break;case"_surveyconf":var o=e.val;if(!this._surveys.hasOwnProperty(o.mid)){var r=new c.Survey(this._client,o);this._surveys[o.mid]=r}break;case"_showsurveys":if(null===this._surveyCallback){var i=e.val;if(i)this._surveys[i].Show();else for(var s in this._surveys)this._surveys.hasOwnProperty(s)&&this._surveys[s].Show()}else for(var s in this._surveys)this._surveys.hasOwnProperty(s)&&this._surveyCallback(!0,{measurementId:s});break;case"_querysurvey":var n=e.val.callback;this.querySurvey(n);break;case"_addmetadata":var a=e.val;this._client._metaInfos.push(a);break;case"_closesurvey":this._surveys.surveyId.Close();break;case"_setdonottrack":this._cookies.SetDoNotTrackCookie(),this._client.CallOptout();break;default:throw new Error("Bad cmd "+e.cmd.toLowerCase())}},e.prototype.querySurvey=function(e){this._surveyCallback=e,this.checkIabConsent()},e}();c.Process=i;var u=function(){function e(){}return e.GetDeviceType=function(){var e=navigator.userAgent.toLowerCase();return/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e)?"tablet":/(mobi|ipod|phone|blackberry|opera mini|fennec|minimo|symbian|psp|nintendo ds|archos|skyfire|puffin|blazer|bolt|gobrowser|iris|maemo|semc|teashark|uzard)/.test(e)?"phone":"desktop"},e.InsertScript=function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=e;var o=document.getElementsByTagName("script")[0];if(null==o||null==o.parentNode)throw new Error("can't find script tag");o.parentNode.insertBefore(t,o)},e.GetLocation=function(){var e=document.createElement("a");return e.href=this._d.location.href,e.host||""},e._d=document,e}();c.BrowserHelper=u;var s=function(){function e(e){this._doNotTrackCookieName="__bmdnt",this._cookieExpirationDays=void 0!==e.CookieExpirationDays?e.CookieExpirationDays:700,this._cookieDomain=void 0!==e.CookieDomain?e.CookieDomain:".brandmetrics.com",this.Clean()}return e.prototype.SetDoNotTrackCookie=function(){this.SetCookie(this._doNotTrackCookieName,"",this._cookieExpirationDays,this._cookieDomain)},e.prototype.GetDoNotTrack=function(){return null!=this.GetCookieValue(this._doNotTrackCookieName)},e.prototype.SetCookie=function(e,t,o,r,i){void 0===i&&(i=null),i=null==i?"/":i;var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3);var n="expires="+s.toUTCString();i="path="+i,r="domain="+r,document.cookie=e+"="+t+"; "+n+";"+i+";"+r},e.prototype.GetCookieValue=function(e){try{for(var t=e+"=",o=document.cookie.split(";"),r=0,i=o;r<i.length;r++){var s=i[r];if(null!==(s=s.trim()).match(t))return s.substring(t.length,s.length)}}catch(e){}return null},e.prototype.Clean=function(){try{for(var e=0,t=["__bmuid"];e<t.length;e++){var o=t[e];document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}catch(e){}},e}();c.CookieHelper=s}(Brandmetrics||(Brandmetrics={}));"use strict";var Brandmetrics;!function(n){var t=function(){function t(t){this._cdnUrl=t.CdnUrl||void 0,this._baseUrl=void 0!==t.BaseUrl?t.BaseUrl:"https://collector.brandmetrics.com",this._siteId=t.SiteId,this._pixel=t.Pixel,this._metaInfos=[],this._isTest=void 0!==t.IsTest&&t.IsTest,this._mid=t.Mid,this._forced=!1,this._sendDiagnostics=void 0!==t.LogErrors&&t.LogErrors}return t.prototype.GetBaseUrl=function(){return this._baseUrl},t.prototype.SendAnswerData=function(t){this.SendDataToServer("survey/answer",t,!0)},t.prototype.PostDiagnostics=function(t){if(this._sendDiagnostics){var e="";e+=this.AddParam("rnd",this.getRandomInt(1e3,1e7),!0,!0),e+=this.AddParam("msg",t),this.ExecuteServerCall("diagnostics",e)}},t.prototype.CallOptout=function(){if(void 0!==this._siteId){var t=this.AddParam("siteid",this._siteId);this.ExecuteServerCall("optout",t)}},t.prototype.ExecuteTracking=function(t){this.SendDataToServer("survey/info",t,!1)},t.prototype.GetConfigUrl=function(t,e){void 0===t&&(t=null),void 0===e&&(e=!1);var i=this._baseUrl+"/survey/config.js?";return i+=this.AddParam("rnd",this.getRandomInt(1e3,1e7),!0,!0),i+=this.AddParam("pixel",this._pixel),i+=this.AddParam("siteid",this._siteId),i+=this.AddParam("toploc",n.BrowserHelper.GetLocation(),!this._siteId),i+=this.AddParam("dt",n.BrowserHelper.GetDeviceType()),i+=this.AddParam("test","true",e||this._isTest),i+=this.AddParam("forced","true",this._forced),i+=this.AddParam("mid",null==t?this._mid:t)},t.prototype.GetTemplateUrl=function(t){var e=(this._cdnUrl?this._cdnUrl:this._baseUrl)+"/template/"+t+".html?";return e+=this.AddParam("dt",n.BrowserHelper.GetDeviceType(),!0,!0),e+=this.AddParam("siteid",this._siteId),e+=this.AddParam("toploc",n.BrowserHelper.GetLocation(),!this._siteId),e+=this.AddParam("test","true",this._isTest)},t.prototype.SendDataToServer=function(t,e,i){var r="";r+=this.AddParam("rnd",this.getRandomInt(1e3,1e7),!0,!0),r+=this.AddParam("test","true",this._isTest),r+=this.AddParam("qdata",e),r+=this.AddParam("siteid",this._siteId),r+=this.AddParam("pixel",this._pixel),r+=this.AddParam("dt",n.BrowserHelper.GetDeviceType()),r+=this.AddParam("toploc",n.BrowserHelper.GetLocation()),r+=this.AddParam("forced","true",this._forced&&i);for(var s="",o=0,a=this._metaInfos;o<a.length;o++){var d=a[o];s+=this.AddParam(d.name,this.SafeToString(d.val))}r+=this.AddParam("meta",s,0<this._metaInfos.length),this.ExecuteServerCall(t,r)},t.prototype.ExecuteServerCall=function(t,e){(new Image).src=this._baseUrl+"/"+t+"?"+e},t.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.AddParam=function(t,e,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!1),null!=e&&i?(r?"":"&")+t+"="+this.urlEncode(e.toString()):""},t.prototype.urlEncode=function(t){return"function"==typeof encodeURIComponent?encodeURIComponent(t):window.escape(t)},t.prototype.SafeToString=function(t){return null==t?"":t.toString()},t}();n.Client=t}(Brandmetrics||(Brandmetrics={}));var _brandmetrics=_brandmetrics||[];(new Brandmetrics.Measure({BaseUrl:"https://collector.brandmetrics.com",CdnUrl:"https://cdn.brandmetrics.com",LoadConfig:true,SessionCount:0,LogErrors:false,SiteId:"02b49a8a-e4e0-4c98-a578-5349c59ee611",CookieExpirationDays:700,CookieDomain:(typeof window!=="undefined"&&typeof window.location!=="undefined"&&typeof window.location.hostname!=="undefined")?"."+window.location.hostname.split(".").slice(-2).join("."):".brandmetrics.com"},_brandmetrics));