(function(){var n=function(){function l(c,b,h){function q(a){function e(b){function h(b){function q(b){b=d[b];return"undefined"!==typeof b?b.get(a):null}b=c+"/"+b.substr(2);var e;e=q(b);if(null!==e)return e;e=q(b+"/main");if(null!==e)return e;throw Error("Brak definicji modu\u0142u: "+b);}if(k(b))return h(b);if(b in a)b=a[b];else throw Error("Brak definicji zewn\u0119trznego modu\u0142u : "+b);return b}for(var q=[],g=0;g<b.length;g++)q.push(e(b[g]));return h.apply(null,q)}var e=null;a(b);return{get:function(b){null===
e&&(e=q(b));return e}}}function a(a){for(var b=0;b<a.length;b++){var h=a[b];k(h)||c.addName(h)}}function k(a){if("string"===typeof a)return 2<=a.length&&"./"===a.substr(0,2);throw Error("Spodziewano si\u0119 stringa");}var g=!1,c=function(){var a=[],b={};return{addName:function(h){if("string"===typeof h&&""!==h)"string"!==typeof b[h]&&(b[h]=h,a.push(h));else throw Error("Nieprawid\u0142owy typ parametru");},getExtendsModulesObject:function(b){if(a.length===b.length){for(var c={},e=0;e<a.length;e++)c[a[e]]=
b[e];return c}throw Error("nieprawid\u0142owe odga\u0142\u0119zienie programu");},getModulesName:function(){return a}}}(),d={};return{getDefine:function(a,b){return function(h,c){if(!1===g)d[a+"/"+b]=l(a,h,c);else throw Error("Nie mo\u017cna nic definiowa\u0107 po zako\u0144czeniu procesu konfiguracji");}},install:function(){if(!1===g)g=!0,define(c.getModulesName(),function(){var a=Array.prototype.slice.call(arguments,0),a=c.getExtendsModulesObject(a);if("undefined"!==typeof d["./main"])a=d["./main"].get(a);
else throw Error("Brak zdefiniowanego modu\u0142u: ./main");return a});else throw Error("Nieprawid\u0142owy stan");}}}();(function(l){l(["uststd/uststd"],function(a){return function(){function k(){if(c&&c.detected)return c.detected;var b;a:if(c&&c.detected)b=k();else{for(os in c.regexp)if(c.regexp.hasOwnProperty(os)&&c.regexp[os].test(window.navigator.userAgent)){b=c.detected=os;break a}b=void 0}return b}var g=document.querySelector("#livestreamOverlay"),c={detected:null,regexp:{Ios:/iphone|ipod|ipad/gi,
Android:/android/gi,Windows:/windows/gi}},d={getItem:function(b){return this.isAvailable?localStorage.getItem(b):null},setItem:function(b,a){return this.isAvailable?localStorage.setItem(b,a):null},isAvailable:!1};try{localStorage.setItem("a","b"),localStorage.removeItem("a"),d.isAvailable=!0}catch(l){d.isAvailable=!1}return{localStorage:d,showOverlay:function(b){g&&a.environment.addClass(g,"active")},hideOverlay:function(b){g&&a.environment.removeClass(g,"active")},getSystem:k,getBrowser:function(){if(!c.browser){if(window.opr&&
opr.addons||window.opera||0<=navigator.userAgent.indexOf(" OPR/"))c.browser="opera";"undefined"!==typeof InstallTrigger&&(c.browser="firefox");if(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||safari.pushNotification).toString())c.browser="safari";document.documentMode&&(c.browser="ie");"ie"!==c.browser&&window.StyleMedia&&(c.browser="edge");window.chrome&&"edge"!==c.browser&&(c.browser="chrome")}return c.browser},addEventsListener:function(b,a,c){a=
a.split(" ");for(var e=0;e<a.length;e++)b.addEventListener(a[e],c,!1)},scrollTo:function(a,c){var q=window.pageYOffset,e=window.pageYOffset+a.getBoundingClientRect().top,d=(document.body.scrollHeight-e<window.innerHeight?document.body.scrollHeight-window.innerHeight:e)-q,g;d&&window.requestAnimationFrame(function t(a){g||(g=a);a-=g;var b=Math.min(a/c,1);window.scrollTo(0,q+d*(0.5>b?4*b*b*b:(b-1)*(2*b-2)*(2*b-2)+1));a<c&&window.requestAnimationFrame(t)})},onOverlay:function(a){if("function"===typeof a)try{g.addEventListener("click",
a,!1)}catch(c){}}}}()})})(n.getDefine("./utils","helper"));(function(l){l(["./helper"],function(a){function k(){d.classList.remove("active")}function g(a,h){return function(){for(s in c)document.querySelector(c[s].class+" a").setAttribute("href",c[s].url+"?"+(c[s].params.link+(c[s].title&&h?h+" ":"")+a));l.value=a;d.classList.add("active")}}var c={twitter:{url:"https://twitter.com/intent/tweet","class":".twitterShare",title:!0,params:{link:"text="}},facebook:{url:"https://www.facebook.com/sharer/sharer.php",
"class":".facebookShare",title:!1,params:{link:"u="}},messanger:{url:"fb-messenger://share/","class":".messengerShare",title:!1,params:{link:"link="}},whatsapp:{url:"whatsapp://send","class":".whatsappShare",title:!1,params:{link:"text="}},mail:{url:"mailto:","class":".mailShare",title:!0,params:{link:"body="}}},d=null,l=null;return{addShareEvents:function(b){if(b.domElement)for(var c=b.domElement.querySelectorAll(".shareButton:not(.active)"),d=0;d<c.length;d++)if(b.share){var e=c[d].querySelector("use");
e&&e.setAttributeNS("http://www.w3.org/1999/xlink","href",e.getAttributeNS("http://www.w3.org/1999/xlink","href","").replace(/(Android|Ios|Windows)/g,a.getSystem()));c[d].classList.add("active");c[d].classList.add(a.getSystem().toLowerCase());a.addEventsListener(c[d],"click",g(c[d].getAttribute("data-share-url"),c[d].getAttribute("data-share-title")))}else c[d].style.display="none"},addFacebookShare:function(a){var d=a.getAttribute("data-share-url");a.setAttribute("href",c.facebook.url+"?"+c.facebook.params.link+
d)},init:function(a){a.querySelector(".popupCloseIcon").addEventListener("click",k);d=a;l=d.querySelector(".copyHiddenInput");(a=d.querySelector("li.copyShare"))&&a.addEventListener("click",function(a){a.preventDefault();try{l.select(),document.execCommand("copy"),l.blur()}catch(b){console.error(b)}d.classList.add("copySuccess");setTimeout(function(){d.classList.remove("active");setTimeout(function(){d.classList.remove("copySuccess")},500)},1500)})},close:k}})})(n.getDefine("./utils","social"));(function(l){l(["uststd/uststd",
"./utils/helper","./utils/social"],function(a,k,g){function c(){var b;6E4<Date.now()-f.startTime?(f.startTime=Date.now(),b=!0):b=!1;b?(p.innerHTML=A,setTimeout(function(){d()},500)):h();v.setAttribute("data-counter","");a.environment.removeClass(w,"active");a.environment.addClass(t,"active");document.body.classList.add("newslivestream--enabled");m.opened=!0;k.showOverlay()}function d(c){if(!m.loading&&!a.environment.isStaticSite()){m.loading=!0;a.environment.logAdd("Call: getLivestream");var d=0;
a.environment.picoajax({method:"GET",url:"/newslivestream",success:function(e){p.innerHTML=e;u=p.querySelectorAll("article");z(p,0,300);if(u){g.addShareEvents({domElement:p,share:f.share});e=0;var t=JSON.parse(k.localStorage.getItem("newslivestream"));if(u)if(t)for(var r=0;r<u.length;r++){var n=u[r].querySelector("a").dataset.uuidUi;e=r;if(n&&-1<t.indexOf(n))break}else e=10;e=d=e;m.opened?0<e&&h():f.info?q(e):b(e);a.environment.logAdd("Counter: "+d);a.environment.logDump();"function"===typeof c&&
c();m.loading=!1;require.runnerBox.runElement(p)}else l(),m.loading=!1},failure:function(){a.environment.logError("Livestream has not been loaded!");m.loading=!1}})}}function l(a){3>m.count&&(m.count+=1,setTimeout(function(){d()},2E3))}function b(a){0!==a&&(9<a&&(a="9+"),v.setAttribute("data-counter",a))}function h(){var a=[];if(u&&u.length){for(var b=0;3>b;b++){var c=u[b].querySelector("a").dataset.uuidUi;c&&a.push(c)}a.length&&k.localStorage.setItem("newslivestream",JSON.stringify(a))}}function q(c){if(0!==
c){a.environment.addClass(w,"active");var d;f.scrollHandler=function(){d=d||window.scrollY;Math.abs(d-window.scrollY)>window.innerHeight/2&&(e(),b(c))};a.environment.addEvent(window,"scroll",f.scrollHandler);f.snackBarTimeout=setTimeout(function(){e();b(c)},2E4);f.snackBarIsOpened=!0}}function e(){a.environment.removeClass(w,"active");a.environment.removeEvent(window,"scroll",f.scrollHandler);f.snackBarTimeout&&clearTimeout(f.snackBarTimeout);f.snackBarIsOpened=!1}function z(a,b,c){var d=a.scrollTop,
e=b-d,u=0,f=function(){u+=20;var b;b=u;b/=c/2;1>b?b=e/2*b*b+d:(b--,b=-e/2*(b*(b-2)-1)+d);a.scrollTop=b;u<c&&setTimeout(f,20)};f()}var r,x,t,p,n,v,w=null,m={count:0,opened:!1,loading:!1,embed:!1},f={share:!1,check:!1,info:!1,timeout:null,snackBarTimeout:null,snackBarIsOpened:!1,scrollHandler:null,startTime:null},u=null,A=null;return{init:function(b){r=document.querySelector(".livestreamSections");if(!r)return!1;x=document.querySelector(".livestreamBottomBar");t=r.querySelector(".livestream");p=t.querySelector(".newsList");
n=x.querySelector("nav.bottomBarNavigations");v=n.querySelector("li.livestreamOpt");w=x.querySelector(".livestreamSnackBar");b.dataset.share&&"yes"===b.dataset.share&&(f.share=!0);if(b.dataset.check){var c=parseInt(b.dataset.check,10);c&&0<c&&(f.check=1E3*c)}b.dataset.info&&"yes"===b.dataset.info&&0<f.check&&(f.info=!0);a.environment.addEvent(b,"scroll",function(c){window.dispatchEvent(new Event("scroll"));200<b.scrollTop&&!a.environment.hasClass(t,"scrolled")&&a.environment.addClass(t,"scrolled")});
f.check&&0<f.check&&(f.timeout=setTimeout(function(){d();f.startTime=Date.now()},f.check));A=p.innerHTML;m.embed=!0;require.runnerBox.runElement(b)},open:function(){if(!m.embed||m.loading)return!1;f.timeout&&clearTimeout(f.timeout);m.opened&&setTimeout(function(){z(p,0,500)},200);var a=0;f.snackBarIsOpened&&(e(),a=300);setTimeout(function(){c()},a)},close:function(){if(!m.embed)return!1;["active","scrolled"].forEach(function(b){a.environment.removeClass(t,b)});k.hideOverlay();g.close();document.body.classList.remove("newslivestream--enabled");
setTimeout(function(){m.opened=!1},1E3)},isOpen:function(){return m.opened}}})})(n.getDefine(".","livestream"));(function(l){l(["uststd/uststd","./utils/helper","./livestream"],function(a,k,g){function c(a,b){a&&"function"===typeof b&&(f[a]||(f[a]=[]),f[a].push(b))}function d(a){f[a]&&f[a].forEach(function(a){try{a()}catch(b){}})}function l(){d("onNews");e();g.open();a.environment.addClass(this,"active")}function b(){d("onHome");this.dataset&&this.dataset.link?window.location.href=this.dataset.link:
(e(),g.close(),a.environment.addClass(this,"active"),k.scrollTo(document.body,2E3))}function h(){d("onWeather");var b=document.querySelector(".mainSection .weatherAndAirPollutionWidget")||document.querySelector(".mainSection .weatherWidget");this.dataset&&this.dataset.link||!b?window.location.href=this.dataset.link||"https://pogoda.onet.pl":(e(),g.close(),a.environment.addClass(this,"active"),setTimeout(function(){k.scrollTo(b,1500)},300))}function q(){d("onClose");e();g.close();a.environment.removeClass(p,
"active")}function e(){var b=r.querySelector(".active");b&&a.environment.removeClass(b,"active")}var n,r,x,t,p,y,v,w,m=null,f={};return{init:function(c){n=document.querySelector(".livestreamBottomBar");if(!n)return!1;r=n.querySelector("nav.bottomBarNavigations");x=document.querySelector("section.livestreamSections");t=x.querySelector(".popupCloseIcon");x.querySelector(".livestream");p=r.querySelector("li.livestreamOpt");y=r.querySelector("li.homeOpt");v=r.querySelector("li.weatherOpt");w=n.querySelector(".livestreamSnackBar");
m=w.querySelector(".actionButton");a.environment.addClass(r,"active");p&&!a.environment.isStaticSite()&&a.environment.addEvent(p,"click",l);y&&a.environment.addEvent(y,"click",b);v&&a.environment.addEvent(v,"click",h);t&&a.environment.addEvent(t,"click",q);m&&p&&a.environment.addEvent(m,"click",function(){e();g.open();a.environment.addClass(p,"active")});k.onOverlay(q);require.runnerBox.runElement(c)},addOnWeather:function(a){c("onWeather",a)},addOnNews:function(a){c("onNews",a)},addOnHome:function(a){c("onHome",
a)},addOnClose:function(a){c("onClose",a)}}})})(n.getDefine(".","bottomBar"));(function(l){l(["./livestream","./bottomBar","./utils/social"],function(a,k,g){return{initLiveStream:a.init,initBottomBar:k.init,initSocial:g.init,onHome:k.addOnHome,onWeather:k.addOnWeather,onNews:k.addOnNews,close:a.close,open:a.open}})})(n.getDefine(".","main"));n.install()})();
